{% extends "blog/base.html" %}
{% load static %}

{% block content %}
  
  <h1 class="mb-4">Search Users</h1>
      
  <form method="POST" class="mb-4">
    {% csrf_token %}
    <div class="input-group">
      <input type="input" class="form-control" placeholder="Search" name="search">
      <div class="input-group-append">
        <button type="submit" class="btn btn-secondary">Search User</button>
      </div>
    </div>
  </form>

  {% if search %}
    <h3 class="mb-3">You searched for: {{ search }}</h3> 
   <br/>
  {% endif %}

  {% if searched %}
  {% for result in searched %}
    <div class="card mb-3" style="max-width: 540px;">
      <div class="row g-0">
        <div class="col-md-4">
          {% if result.profile.profile_image %}
          <img src="{{ result.profile.profile_image.url }}" width="200" height="200" class="img-fluid rounded-start" alt="{{result.profile.user.username}}">
          {% else %}
          <img src="{% static 'images/default.jpg' %}" 
          class="img-fluid rounded-start" alt="Profile image">
          {% endif %}
          
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title">{{ result.profile.user.username }}</h5>
            <p class="card-text"><a href="{% url 'profile' result.profile.user.id %}">@{{ result.profile.user.username|lower }}</a></p>
            <br/><br>
            <p class="card-text"><small class="text-body-secondary">{{ result.profile.date_modified }}</small></p>
          </div>
        </div>
      </div>
    </div>
    <br/><br/>
  {% endfor %}
{% else %}
{% if searched == None %}

{% else %}
Sorry, that  user dose not exist, elease try agin..
{% endif %} 
{% endif %}
  <br/><br/>
{% endblock content %}
